{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <!-- 引入 echarts.js -->
    <link rel="SHORTCUT ICON" href="{% static 'favicon.ico' %}">   <!--  搞icon -->
    <script src="{% static 'jquery-3.1.1.min.js' %}"></script>
    <script src="{% static 'echarts.min.js' %}"></script>

</head>
<body>
<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
<div id="main" style="width: 600px;height:400px;"></div>
<script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main'));

    // 指定图表的配置项和数据
    {#    option = {#}
    {#    title: {#}
    {#        text: '对数轴示例',#}
    {#        left: 'right'#}
    {#    },#}
    {#    tooltip: {#}
    {#        trigger: 'item',#}
    {#        formatter: '{a} <br/>{b} : {c}'#}
    {#    },#}
    {#    legend: {#}
    {#        // 可折叠#}
    {#        left: 'left',#}
    {#        data: ['1/2的指数','2的指数', '3的指数']    // series中的name#}
    {#    },#}
    {#    xAxis: {#}
    {#        type: 'category',#}
    {#        name: 'x',#}
    {#        splitLine: {show: false},#}
    {#        data: ['一', '二', '三', '四', '五', '六', '七', '八', '九']#}
    {#    },#}
    {#    grid: {#}
    {#        left: '3%',#}
    {#        right: '4%',#}
    {#        bottom: '3%',#}
    {#        containLabel: true#}
    {#    },#}
    {#    yAxis: {#}
    {#        type: 'log',#}
    {#        name: 'y'#}
    {#    },#}
    {#    series: [#}
    {#        {#}
    {#            name: '3的指数',#}
    {#            type: 'line',#}
    {#            data: [1, 3, 9, 27, 81, 247, 741, 2223, 6669]#}
    {#        },#}
    {#        {#}
    {#            name: '2的指数',#}
    {#            type: 'line',#}
    {#            data: [1, 2, 4, 8, 16, 32, 64, 128, 256]#}
    {#        },#}
    {#        {#}
    {#            name: '1/2的指数',#}
    {#            type: 'line',#}
    {#            data: [1/2, 1/4, 1/8, 1/16, 1/32, 1/64, 1/128, 1/256, 1/512]#}
    {#        }#}
    {#    ]#}
    //};

    option = {
        title: {
            text: '动态温度',
            subtext: '纯属虚构'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                label: {
                    backgroundColor: '#283b56'
                }
            }
        },
        legend: {
            data: ['温度']
        },
        toolbox: {
            show: true,
            feature: {
                dataView: {readOnly: false},
                restore: {},
                saveAsImage: {}
            }
        },
        dataZoom: {
            show: false,
            start: 0,
            end: 100
        },
        xAxis: [
            {
                type: 'category',
                boundaryGap: true,
                data: (function () {
                    var res = [];
                    var len = 10;   // 默认x轴是0-9
                    while (len--) {
                        res.push(10 - len - 1);
                    }
                    return res;
                })()
            }
        ],
        yAxis: [
            {
                type: 'value',
                scale: true,
                name: '温度',
                max: 100,
                min: 0,
                boundaryGap: [0.2, 0.2]
            }
        ],
        series: [
            {
                name: '温度',
                type: 'line',
                data: (function () {
                    var res = [];
                    var len = 0;
                    while (len < 10) {
                        res.push((Math.random() * 10 + 5).toFixed(1) - 0);
                        len++;
                    }
                    return res;
                })()
            }
        ]
    };

    var count = 10;     // x轴起点坐标
    setInterval(function () {


        var data0 = option.series[0].data;
        data0.shift();
        data0.push((Math.random()*100).toFixed(1) - 0);


        option.xAxis[0].data.shift();
        option.xAxis[0].data.push(count++);

        myChart.setOption(option);
    }, 1000);

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);

</script>

</body>
</html>